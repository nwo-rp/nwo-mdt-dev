(self.webpackChunknwo_mdt=self.webpackChunknwo_mdt||[]).push([[205],{4205:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AdminModule:()=>z});var i=n(1511),s=n(5846),c=n(1572);const r=function(){return["..","vehicles"]};let o=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c.Xpm({type:e,selectors:[["ng-component"]],decls:2,vars:2,consts:[[3,"routerLink"]],template:function(e,t){1&e&&(c.TgZ(0,"button",0),c._uU(1,"vehicles"),c.qZA()),2&e&&c.Q6J("routerLink",c.DdM(1,r))},directives:[s.rH],styles:["[_nghost-%COMP%]{min-height:100%;display:grid;grid-template-columns:1fr 1fr}[_nghost-%COMP%] > *[_ngcontent-%COMP%]{border:none}"],changeDetection:0}),e})();var l=n(8512),a=n(4689),h=n(9996),d=n(9063);let u=(()=>{class e{constructor(e,t){this.httpClient=e,this.environment=t}getVehicles(){return this.httpClient.get(`${this.environment.endpoint}/admin/vehicles`)}getBrands(){return this.httpClient.get(`${this.environment.endpoint}/admin/vehicles/brands`)}getCategories(){return this.httpClient.get(`${this.environment.endpoint}/admin/vehicles/categories`)}}return e.\u0275fac=function(t){return new(t||e)(c.LFG(d.eN),c.LFG("environment"))},e.\u0275prov=c.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var p=n(6073),g=n(6599),f=n(6283),m=n(5583),v=n(1522);function C(e,t){if(1&e&&(c.TgZ(0,"span",5),c._uU(1),c.qZA()),2&e){const e=t.$implicit;c.xp6(1),c.Oqu(e.name)}}function Z(e,t){if(1&e&&(c.TgZ(0,"mat-option",6),c._uU(1),c.qZA()),2&e){const e=t.$implicit;c.Q6J("value",e),c.xp6(1),c.Oqu(e.name)}}let b=(()=>{class e{constructor(){this.vehicles=[],this.brands=[],this.categories=[],this.filterChange=new c.vpe,this.form=new p.cw({brand:new p.NI}),this.form.valueChanges.pipe((0,g.b)(e=>this.filterChange.emit(e))).subscribe()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c.Xpm({type:e,selectors:[["mdt-admin-vehicle-filter"]],inputs:{vehicles:"vehicles",brands:"brands",categories:"categories"},outputs:{filterChange:"filterChange"},decls:8,vars:3,consts:[[3,"formGroup"],["appearance","fill"],["formControlName","brand","multiple",""],["class","list",4,"ngFor","ngForOf"],[3,"value",4,"ngFor","ngForOf"],[1,"list"],[3,"value"]],template:function(e,t){if(1&e&&(c.ynx(0,0),c.TgZ(1,"mat-form-field",1),c.TgZ(2,"mat-label"),c._uU(3,"Brand"),c.qZA(),c.TgZ(4,"mat-select",2),c.TgZ(5,"mat-select-trigger"),c.YNc(6,C,2,1,"span",3),c.qZA(),c.YNc(7,Z,2,2,"mat-option",4),c.qZA(),c.qZA(),c.BQk()),2&e){let e;c.Q6J("formGroup",t.form),c.xp6(6),c.Q6J("ngForOf",null==(e=t.form.get("brand"))?null:e.value),c.xp6(1),c.Q6J("ngForOf",t.brands)}},directives:[p.JL,p.sg,f.KE,f.hX,m.gD,p.JJ,p.u,m.$L,i.sg,v.ey],styles:['[_nghost-%COMP%]   .list[_ngcontent-%COMP%] ~ .list[_ngcontent-%COMP%]:before{content:", "}']}),e})(),w=(()=>{class e{transform(e,t){var n;return(null===(n=t.find(({id:t})=>t===e))||void 0===n?void 0:n.name)||"?"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=c.Yjl({name:"vehicleBrand",type:e,pure:!0}),e})();function y(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"li",1),c.NdJ("click",function(){const t=c.CHM(e).$implicit;return c.oxw().selectedVehicleChange.next(t)}),c.TgZ(1,"span"),c._uU(2),c.ALo(3,"vehicleBrand"),c.qZA(),c.qZA()}if(2&e){const e=t.$implicit,n=c.oxw();c.xp6(2),c.AsE(" ",c.xi3(3,2,e.brand,n.brands)," ",e.name||"<"+e.model+">"," ")}}let A=(()=>{class e{constructor(){this.vehicles=[],this.brands=[],this.categories=[],this.selectedVehicleChange=new c.vpe}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c.Xpm({type:e,selectors:[["mdt-admin-vehicle-list"]],inputs:{vehicles:"vehicles",brands:"brands",categories:"categories"},outputs:{selectedVehicleChange:"selectedVehicleChange"},decls:2,vars:1,consts:[[3,"click",4,"ngFor","ngForOf"],[3,"click"]],template:function(e,t){1&e&&(c.TgZ(0,"ul"),c.YNc(1,y,4,5,"li",0),c.qZA()),2&e&&(c.xp6(1),c.Q6J("ngForOf",t.vehicles))},directives:[i.sg],pipes:[w],styles:["[_nghost-%COMP%]{overflow:auto;display:flex;height:100%}[_nghost-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none}"]}),e})();const _=function(){return[]};let M=(()=>{class e{constructor(e,t,n){this.adminVehiclesResource=e,this.router=t,this.activatedRoute=n,this.vehicles$=this.adminVehiclesResource.getVehicles().pipe((0,a.w)(e=>this.filter.pipe((0,h.U)(t=>this.filterVehicles(e,t))))),this.brands$=this.adminVehiclesResource.getBrands(),this.categories$=this.adminVehiclesResource.getCategories(),this.filter=new l.X({})}selectVehicle(e){this.router.navigate([e.model],{relativeTo:this.activatedRoute})}filterVehicles(e,t){return e.filter(e=>{var n;let i=!0;return i&&(i=0===((null===(n=null==t?void 0:t.brand)||void 0===n?void 0:n.length)||0)||((null==t?void 0:t.brand)||[]).find(({id:t})=>t===e.brand)),i})}}return e.\u0275fac=function(t){return new(t||e)(c.Y36(u),c.Y36(s.F0),c.Y36(s.gz))},e.\u0275cmp=c.Xpm({type:e,selectors:[["ng-component"]],decls:12,vars:24,consts:[[1,"toolbar"],[3,"vehicles","brands","categories","filterChange"],[1,"content"],[3,"vehicles","brands","categories","selectedVehicleChange"]],template:function(e,t){1&e&&(c._UZ(0,"div",0),c.TgZ(1,"mdt-admin-vehicle-filter",1),c.NdJ("filterChange",function(e){return t.filter.next(e)}),c.ALo(2,"async"),c.ALo(3,"async"),c.ALo(4,"async"),c.qZA(),c.TgZ(5,"div",2),c.TgZ(6,"mdt-admin-vehicle-list",3),c.NdJ("selectedVehicleChange",function(e){return t.selectVehicle(e)}),c.ALo(7,"async"),c.ALo(8,"async"),c.ALo(9,"async"),c.qZA(),c.TgZ(10,"div"),c._UZ(11,"router-outlet"),c.qZA(),c.qZA()),2&e&&(c.xp6(1),c.Q6J("vehicles",c.lcZ(2,6,t.vehicles$)||c.DdM(18,_))("brands",c.lcZ(3,8,t.brands$)||c.DdM(19,_))("categories",c.lcZ(4,10,t.categories$)||c.DdM(20,_)),c.xp6(5),c.Q6J("vehicles",c.lcZ(7,12,t.vehicles$)||c.DdM(21,_))("brands",c.lcZ(8,14,t.brands$)||c.DdM(22,_))("categories",c.lcZ(9,16,t.categories$)||c.DdM(23,_)))},directives:[b,A,s.lC],pipes:[i.Ov],styles:["[_nghost-%COMP%]{overflow:hidden;display:flex;flex-direction:column;height:100%}[_nghost-%COMP%] > .content[_ngcontent-%COMP%]{display:flex;height:100%;overflow:hidden}[_nghost-%COMP%] > .content[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:first-child{width:33%}[_nghost-%COMP%] > .content[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:last-child{flex-grow:1}"],changeDetection:0}),e})();var O=n(7527);const $=[{path:"",redirectTo:"dashboard",pathMatch:"full"},{path:"dashboard",component:o,data:{title:"Administration",parent:"/"}},{path:"vehicles",component:M,data:{title:"Fahrzeuge",parent:"../dashboard"},children:[{path:":model",component:(()=>{class e{constructor(e,t){this.adminVehiclesPage=e,this.activatedRoute=t,this.vehicle$=this.activatedRoute.params.pipe((0,a.w)(({model:e})=>this.adminVehiclesPage.vehicles$.pipe((0,h.U)(t=>t.find(t=>t.model===e)))),(0,O.d)())}}return e.\u0275fac=function(t){return new(t||e)(c.Y36(M),c.Y36(s.gz))},e.\u0275cmp=c.Xpm({type:e,selectors:[["ng-component"]],decls:5,vars:5,consts:[[1,"toolbar"]],template:function(e,t){1&e&&(c._UZ(0,"div",0),c.TgZ(1,"pre"),c._uU(2),c.ALo(3,"json"),c.ALo(4,"async"),c.qZA()),2&e&&(c.xp6(2),c.hij("  ",c.lcZ(3,1,c.lcZ(4,3,t.vehicle$)),"\n"))},pipes:[i.Ts,i.Ov],styles:[""],changeDetection:0}),e})()}]}];let J=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[i.ez,s.Bz]]}),e})();var x=n(5980);let P=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[]]}),e})(),B=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[i.ez,s.Bz,P]]}),e})(),T=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[i.ez,s.Bz,p.u5,p.UX,m.LD,P]]}),e})(),V=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[i.ez,s.Bz,x.ot,B,T]]}),e})(),q=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[i.ez]]}),e})(),z=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({providers:[],imports:[[i.ez,s.Bz.forChild($),J,V,q]]}),e})()}}]);